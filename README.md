<div align = center><img src="https://capsule-render.vercel.app/api?type=waving&color=auto&height=180&section=header&text=BrickFarm&fontSize=90"/></div>
<div align = right>
<h5>ğŸ“… 2023.10.4 ~ 2023.11.30</h5>
</div>
<br/>
<br/>
<h1>ğŸ“ŒLanguages/Framework</h1>
<div align = center>
<img src="https://img.shields.io/badge/Java-007396?style=flat&logo=Java&logoColor=white"/>
<img src="https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=HTML5&logoColor=white"/>
<img src="https://img.shields.io/badge/CSS3-1572B6?style=flat&logo=CSS3&logoColor=white"/>
<img src="https://img.shields.io/badge/Javascript-F7DF1E?style=flat&logo=Javascript&logoColor=white"/>
<img src="https://img.shields.io/badge/jQuery-0769AD?style=flat&logo=jQuery&logoColor=white"/>
<img src="https://img.shields.io/badge/Ajax-0099E5?style=flat&logo=Ajax&logoColor=white"/>
<br/>
<img src="https://img.shields.io/badge/Spring-6DB33F?style=flat&logo=Spring&logoColor=white"/>
<img src="https://img.shields.io/badge/JSP-512BD4?style=flat&logo=JSP&logoColor=white"/>
<img src="https://img.shields.io/badge/Oracle-F80000?style=flat&logo=Oracle&logoColor=white"/>
<img src="https://img.shields.io/badge/MySql-4479A1?style=flat&logo=MySql&logoColor=white"/>
<img src="https://img.shields.io/badge/MariaDB-003545?style=flat&logo=MariaDB&logoColor=white"/>
</div>
<br/>
<br/>
<h1>ğŸ“ŒSoftware</h1>
<div align = center>
<img src="https://img.shields.io/badge/Notion-000000?style=flat&logo=Notion&logoColor=white"/>
<img src="https://img.shields.io/badge/Figma-F24E1E?style=flat&logo=Figma&logoColor=white"/>
<img src="https://img.shields.io/badge/GoogleSheets-34A853?style=flat&logo=GoogleSheets&logoColor=white"/>
<img src="https://img.shields.io/badge/Git-F05032?style=flat&logo=Git&logoColor=white"/>
<img src="https://img.shields.io/badge/GitHub-181717?style=flat&logo=GitHub&logoColor=white"/>
<br/>
<img src="https://img.shields.io/badge/NaverAPI-03C75A?style=flat&logo=Naver&logoColor=white"/>
<img src="https://img.shields.io/badge/KakaoAPI-FFCD00?style=flat&logo=Kakao&logoColor=white"/>
<img src="https://img.shields.io/badge/Eclipse IDE-2c2255?style=flat&logo=EclipseIDE&logoColor=white"/>
<img src="https://img.shields.io/badge/Apache Tomcat-F8DC75?style=flat&logo=apachetomcat&logoColor=white"/>
</div>
<br/>
<br/>
<h1>ğŸ“Œê°œë…ì ERD & ê³µí•™ì ERD</h1>
<p align="center">
<img width="100%" alt="ê°œë…ì ERD" src="https://github.com/SsongYT/BrickFarm-Project/assets/136442036/08d7a97f-0174-49e3-97af-c2da6e60eab8"/>
</p>
<br/>
<br/>
<h1>ğŸ“Œê³µí•™ì ERD</h1> 
<p align="center">
<img width="100%" alt="ê³µí•™ì ERD" src="https://github.com/SsongYT/BrickFarm-Project/assets/136442036/bb03cd58-2a29-49d9-810f-41869f2a2bb7"/>
</p>
<br/>
<br/>
<h1>ğŸ“Œì‚¬ì´íŠ¸ë§µ</h1>
<p align="center">
<img width="100%" alt="ì‚¬ì´íŠ¸ë§µ" src="https://github.com/SsongYT/BrickFarm-Project/assets/136442036/46495df8-4652-4e92-b668-54b0115e0bda"/>
</p>
<br/>
<br/>
<h1>ğŸ†ë‹´ë‹¹ : ê²°ì œ ë° ê´€ë¦¬ìí˜ì´ì§€(ì£¼ë¬¸)</h1>

>ê¼¼ê¼¼í•œ ê²€ì¦ì„ í†µí•œ ê²°ì œ
>
>ë¶€ë¶„ì·¨ì†Œ ê¸°ëŠ¥ êµ¬í˜„
>
>ì¼ê´„ì²˜ë¦¬(ë‹¤ì¤‘ì²˜ë¦¬)ë¡œ í¸ë¦¬í•œ ê´€ë¦¬
<br/>
<h2>ğŸ“ì£¼ìš” DBí…Œì´ë¸” ì†Œê°œ</h2>
<p align="center">
<img width="100%" alt="í…Œì´ë¸”" src="https://github.com/SsongYT/BrickFarm-Project/assets/136442036/02fbf6b4-a407-4d8b-86ed-ae6737df6379"/>
</p>
    
>ë¶€ë¶„ì·¨ì†Œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸°ìœ„í•´ ordersheetì— ê° ì„¸ë¶€ìƒí’ˆì´ ìˆëŠ” detailed_order í…Œì´ë¸”ë¡œ êµ¬ë¶„í•˜ì—¬ êµ¬í˜„í•˜ê³ 
>
>ê·¸ í›„ ì·¨ì†Œ/êµí™˜/ë°˜í’ˆ/êµ¬ë§¤í™•ì •ì„ detailed_order í…Œì´ë¸”ì—ì„œ êµ¬í˜„ë˜ë„ë¡ ì„¤ê³„í•˜ì—¬ í…Œì´ë¸”ì„ êµ¬ì„±í•˜ì˜€ë‹¤.
>
>ì ë¦½ê¸ˆì€ ìƒí’ˆë³„ë¡œ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“¤ë©´ í¸ì˜ì„±ì´ ë–¨ì–´ì§€ê³  ê· ë“±í•˜ê²Œ ë¶„ë°°í•˜ë©´ ì·¨ì†Œ/ë°˜í’ˆì‹œ ë¬¸ì œê°€ ìˆë‹¤ íŒë‹¨í•˜ì—¬
>
>ì·¨ì†Œ/ë°˜í’ˆì‹œ ì½”ë“œì ìœ¼ë¡œ ì´ë¶€ë¶„ì„ ê³„ì‚°í•˜ì—¬ ê²°ì œê¸ˆì•¡ì„ ë°˜í™˜í•˜ë„ë¡ í•˜ì˜€ë‹¤.
<br/>
<h2>ğŸ“ê²°ì œ ê²€ì¦</h2>
<p align="center">
<img width="100%" alt="ê²°ì œ ê²€ì¦" src="https://github.com/SsongYT/BrickFarm-Project/assets/136442036/4f483ac5-9017-4a5a-8c64-a3a3b2276004"/>
</p>

> ê²°ì œ APIë¥¼ ì‚¬ìš©í•˜ì—¬ ê²°ì œ í›„ì— ë°ì´í„° ìœ„ë³€ì¡°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ DBì—ì„œ ê²€ì¦ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ
>
> controllerì™€ serviceì—ì„œ ì¶”ê°€ì ì¸ ê²€ì¦ì„ ì‹¤ì‹œí•˜ê³ ,
>
> ì‹¤íŒ¨ ì‹œì—ëŠ” errorCodeë¥¼ ë°˜í™˜í•˜ê³  ì¶œë ¥í•˜ì—¬ êµ¬ë³„ì´ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
<br/>
<h3>ğŸ’¡ì½”ë“œ ë¶„ì„</h3>

<h4>ğŸ’£Controller</h4>

```java
@PostMapping(value="orderCompletePage") 
public void inputCompleteOrder(@ModelAttribute UserOrdersheetDTO ordersheet, @ModelAttribute UserPaymentDTO payment,
@ModelAttribute UserCompleteDataDTO completeData, @RequestParam List<String> product_code,
@RequestParam List<Integer> quantity, HttpServletRequest request, Model model) {
  //ì„¸ì…˜ ì •ë³´ë¥¼ í†µí•´ ë©¤ë²„ ì •ë³´ ë°›ì•„ì˜¤ê¸°
  UserMemberVO sessionMember = (UserMemberVO)request.getSession().getAttribute("loginMemberInfo");
  List<UserPaymentListDTO> paymentList = new ArrayList<UserPaymentListDTO>();

  for (int i = 0; i < product_code.size(); i++) {
    UserPaymentListDTO paymentData = new UserPaymentListDTO(product_code.get(i), quantity.get(i));
    paymentList.add(paymentData);
  }
		
  try {
    UserMemberVO member = paymentService.getMember(sessionMember.getMember_no());
    Map<String, Object> result = paymentService.makeCompleteOrderByDataToUse(ordersheet, payment, completeData, paymentList, member);	
    String errorCode = (String)result.get("errorCode");
    if(errorCode == "000") {
      UserOrdersheetDTO ordersheetData = (UserOrdersheetDTO)result.get("ordersheet");
      UserPaymentDTO paymentData = (UserPaymentDTO)result.get("payment");
      List<UserOrderProductDTO> orderProductList = (List<UserOrderProductDTO>)result.get("orderProductList");
      int total_price = (int)result.get("total_price");
      int coupon_discounted_price = (int)result.get("coupon_discounted_price");
		
      model.addAttribute("ordersheet", ordersheetData);
      model.addAttribute("payment", paymentData);
      model.addAttribute("orderProductList", orderProductList);
      model.addAttribute("paymentType", completeData.getPaymentType());
      model.addAttribute("total_price", total_price);
      model.addAttribute("coupon_discounted_price", coupon_discounted_price);
    } 
    // ê²€ì¦ ì‹¤íŒ¨ì— ëŒ€í•œ ì—ëŸ¬ì½”ë“œ (ì¿ í°,í¬ì¸íŠ¸,ì¬ê³ ,ê²°ì œê²€ì¦)
    model.addAttribute("errorCode", errorCode);

  } catch (Exception e) { // ê²€ì¦ê³¼ ìƒê´€ì—†ì´ DBì •ë³´ ì €ì¥ì‹œ Exceptionì—ëŸ¬ì½”ë“œ
    e.printStackTrace();
    Map<String, Object> errorResponse = new HashMap<String, Object>();
    errorResponse.put("createdAt", new Timestamp(System.currentTimeMillis()));
    errorResponse.put("errorMessage", "ì‹œìŠ¤í…œì—ëŸ¬");	
    int errorCode = 999;
		
    model.addAttribute("errorCode", errorCode);
    model.addAttribute("errorResponse", errorResponse);
  }
}
```

<h4>ğŸ’£Service</h4>

```java
// ì¬ê³ ,ì¿ í°ë³´ìœ ,í¬ì¸íŠ¸ë³´ìœ  ê²€ì¦
@Override
public String verifyAll(int member_no, int point_pay_money, int coupon_held_no, List<UserPaymentListDTO> paymentList) 
throws Exception {
  String result = null;
  int intVerify = 9000;
  int verifyQuantity = 1;
  int verifyCoupon = 1;
  int verifyPoint = 1;
		
  // ì¬ê³  ê²€ì¦ (ì„±ê³µ 0 , ì‹¤íŒ¨ ìŒìˆ˜)
  if (stockDao.isVerifyStock(paymentList) != 0) { 
    verifyQuantity = -1;
    intVerify += 200;
  } 
		
  // ì¿ í° ê²€ì¦ (ì„±ê³µ 1 , ì‹¤íŒ¨ 0)
  if (coupon_held_no != -1) {
    if(memberDao.verifyCoupon(member_no, coupon_held_no) != 1) {
      verifyCoupon = -1;	
      intVerify += 20;
    } 		
  } 
		
  // í¬ì¸íŠ¸ ê²€ì¦ (ì„±ê³µ1, ì‹¤íŒ¨ -1)
  if (point_pay_money > 0) {
    if(memberDao.verifyPoint(member_no, point_pay_money) != 1) {
      verifyPoint = -1;
      intVerify += 2;
    }		
  } 
		
  // ì™„ì „ ê²€ì¦
  if (verifyQuantity == 1 && verifyCoupon == 1 && verifyPoint == 1) {
    result = "000";
  } else {
    String verify = Integer.toString(intVerify);
    result = verify.substring(verify.length()-3, verify.length());
  }
		
  return result;
}

//----------------------------------------------------------------------------------------------------------------
//ê²°ì œê¸ˆì•¡DBì—ì„œ ê³„ì‚°
@Override
public int getValidationPrice(List<UserPaymentListDTO> paymentList, int coupon_held_no, int post_money, int point_pay_money) throws Exception {		
  int totalPrice = detailedOrderDao.getValidationPrice(paymentList);
  float couponDiscountRate = 0;
  if (coupon_held_no != -1) {
    couponDiscountRate = couponHeldDao.getValidationRate(coupon_held_no);
  }

  int validationPrice = totalPrice - (Math.round(totalPrice * couponDiscountRate)) + post_money - point_pay_money;

  return validationPrice;
}

//----------------------------------------------------------------------------------------------------------------
//ê²°ì œ ê²€ì¦
public IamportResponse<Payment> verifyPayment(int pay_money, String imp_uid) throws IamportResponseException, IOException {
  IamportResponse<Payment> verifyPayment = null;
  IamportResponse<Payment> responsePayment = paymentByImpUid(imp_uid);
  //DBë°ì´í„°ë¡œ ê³„ì‚°í•œ ê²°ì œê¸ˆì•¡ê³¼ ìš”ì²­ëœ ê²°ì œê¸ˆì•¡ ë¹„êµ
  if(responsePayment.getResponse().getAmount().intValue() == pay_money) {
    verifyPayment = responsePayment;
  }
  return verifyPayment;
}

//----------------------------------------------------------------------------------------------------------------
//survice ë‹¨ì—ì„œ ê²€ì¦í›„ ì²˜ë¦¬
@Override
public Map<String, Object> makeCompleteOrderByDataToUse(UserOrdersheetDTO ordersheet, UserPaymentDTO payment,
UserCompleteDataDTO completeData, List<UserPaymentListDTO> paymentList, UserMemberVO member) throws Exception {
  Map<String, Object> result = new HashMap<String, Object>();
  String errorCode = "000";
  // ì¬ê³ ,ì¿ í°,ì ë¦½ê¸ˆ ê²€ì¦
  String verifyCode = verifyAll(member.getMember_no(), payment.getPoint_pay_money(), ordersheet.getCoupon_held_no(), paymentList);
  if (verifyCode.equals("000")) {	//ê²€ì¦ì„±ê³µ
  // ê²€ì¦ì„ ìœ„í•œ ê¸ˆì•¡ ê³„ì‚° ( ë°‘ì— 100ëŒ€ì‹  validationPrice )
    int validationPrice = getValidationPrice(paymentList, ordersheet.getCoupon_held_no(), payment.getPost_money(), payment.getPoint_pay_money());
    // ê²°ì œì•¡ì´ 0ì›ì´ ì•„ë‹ë•Œ ê²°ì œAPI ê²€ì¦ì„í•¨.
    if(completeData.getPay_money() != 0) {
      // ê²€ì¦í•¨ìˆ˜ í˜¸ì¶œí•˜ì—¬ ë¦¬í„´ ê°’ ë°›ì•„ì˜¤ê¸°
      IamportResponse<Payment> responsePayment = PaymentInfo.getInstance().verifyPayment(validationPrice, payment.getImp_uid());
      if (responsePayment != null) {

        ...ê²°ì œ ì„±ê³µì‹œ ë¡œì§ ìˆ˜í–‰...

      } else if(responsePayment == null) { // ê²°ì œ ê²€ì¦ ì‹¤íŒ¨
        //ì¹´ë“œê²°ì œ ì·¨ì†Œ
        if (completeData.getPaymentType().equals("card")) {
          BigDecimal cancel_request_amount = new BigDecimal(completeData.getPay_money());
          BigDecimal checksum = new BigDecimal(completeData.getPay_money());
          CancelDataDTO cancelData = new CancelDataDTO(payment.getImp_uid(), cancel_request_amount, "ê²€ì¦ì‹¤íŒ¨", checksum);
          PaymentInfo.getInstance().cancelPaymentByImpUid(cancelData);	
        }

        errorCode = "001";
        result.put("errorCode", errorCode);
      }
    } else if(completeData.getPay_money() == 0){

      ...ê²°ì œ ê¸ˆì•¡ 0ì›ì¼ë•Œ ë¡œì§...

    }

  } else if(!verifyCode.equals("000") { // ìœ íš¨ì„± 3ê°€ì§€ ì¤‘ 1ê°œë¼ë„ ì‹¤íŒ¨
    if (completeData.getPaymentType().equals("card")) {
      BigDecimal cancel_request_amount = new BigDecimal(completeData.getPay_money());
      BigDecimal checksum = new BigDecimal(completeData.getPay_money());
      CancelDataDTO cancelData = new CancelDataDTO(payment.getImp_uid(), cancel_request_amount, "ê²€ì¦ì‹¤íŒ¨", checksum);
      PaymentInfo.getInstance().cancelPaymentByImpUid(cancelData);
    }
    errorCode = verifyCode;
    result.put("errorCode", errorCode);

  }
  return result;
}
```
</br>
<h3>ğŸ’¥ì„¤ëª…</h3>

> ì—ëŸ¬ ì½”ë“œë¥¼ ê²€ì¦ì— ë”°ë¼ ë°±ì˜ ìë¦¬, ì‹­ì˜ ìë¦¬, ì¼ì˜ ìë¦¬ë¡œ êµ¬ë³„í•˜ê³  ë³µí•©ì ì¸ ë¬¸ì œë„ í‘œí˜„í•˜ê³  ì‹¶ì—ˆì§€ë§Œ
> 
> ê²½ìš°ì˜ ìˆ˜ê°€ ë§ì•„ì ¸ì„œ ë·° ì½”ë“œê°€ ê¸¸ì–´ì§€ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
> 
> ì´ë¥¼ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ì‹¶ì—ˆì§€ë§Œ, 3ê°€ì§€ì˜ ìœ íš¨ì„± ê²€ì¦ì„ 1ê°€ì§€ë¡œ ì¶œë ¥í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
> 
> ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Enum í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì²´ê³„ì ì´ê³  ì „ëµì ìœ¼ë¡œ ì—ëŸ¬ ë° ì˜ˆì™¸ë¥¼ ê´€ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.

***
<br/>
<br/>
<h2>ğŸ“ê²°ì œ ì·¨ì†Œ</h2>
<p align="center">
<img width="100%" alt="ê²°ì œ ì·¨ì†Œ" src="https://github.com/SsongYT/BrickFarm-Project/assets/136442036/39eda5d7-3c30-406b-9c0d-940b9da1a64a"/>
</p>

> ë¶€ë¶„ì·¨ì†Œë¥¼ êµ¬í˜„í•˜ì˜€ìœ¼ë©° ì´ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ë¬¸ì œë¥¼ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.
>
> ë°°ì†¡ë¹„ëŠ” ê³¼ì‹¤ ì—¬ë¶€ë¥¼ ê³ ë ¤í•˜ì—¬ ê²°ì •ë˜ë©°, ì´í›„ ë¬´ë£Œë°°ì†¡ ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•˜ì—¬
>
> ì·¨ì†Œ ìš”ì²­ ê¸ˆì•¡ì—ì„œ í•´ë‹¹ ë°°ì†¡ë¹„ë¥¼ ì œì™¸í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
>
> ë˜í•œ, ì‹¤ì œ ì¹´ë“œ ë˜ëŠ” í˜„ê¸ˆìœ¼ë¡œ ê²°ì œëœ ê¸ˆì•¡ê³¼ ì‚¬ìš©ëœ ì ë¦½ê¸ˆì„ ê³ ë ¤í•˜ì—¬ ìš°ì„ ì ìœ¼ë¡œ ì‹¤ì œ ì§€ë¶ˆí•œ ê¸ˆì•¡ì„ ë°˜í™˜í•˜ê³ ,
>
> ì´ë¥¼ ëª¨ë‘ ì‚¬ìš©í•œ ê²½ìš°ì—ëŠ” ì ë¦½ê¸ˆì„ ë°˜í™˜í•˜ëŠ” í˜•íƒœì˜ ë¡œì§ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
<br/>
<h3>ğŸ’¡ì½”ë“œ ë¶„ì„</h3>

<h4>ğŸ’£Service</h4>

```java
// ê²°ì œ ì·¨ì†Œ ê´€ë ¨ ë©”ì†Œë“œ(ê³µìš©í™”)-ì¼ê´„ì²˜ë¦¬ ê°€ëŠ¥í•˜ë„ë¡ Listë¡œ ì§„í–‰
@Transactional(rollbackFor = Exception.class)
private Map<String, Object> cancelPayment(List<Integer> pkNumberList) throws Exception {
	Map<String, Object> result = new HashMap<String, Object>();
	// ì·¨ì†Œ ì„±ê³µ List
	List<Integer> successList = new ArrayList<Integer>();
	// ì·¨ì†Œ ì‹¤íŒ¨ List
	List<AdminCancelFailDTO> failList = new ArrayList<AdminCancelFailDTO>();
	List<AdminCancelReturnDTO> cancelReturnList = new ArrayList<AdminCancelReturnDTO>();

	for (int i = 0; i < pkNumberList.size(); i++) {
		// ì·¨ì†Œ ë°ì´í„° ìˆ˜ì§‘
		AdminCancelDataDTO AdminCancelData = cancellationReturnDao.getCancelData(pkNumberList.get(i));
		// ì¹´ë“œ+í˜„ê¸ˆ ê°€ê²©
		int check_pay = AdminCancelData.getChecksum();
		// ì·¨ì†Œ,ë°˜í’ˆ ì·¨ì†Œì‹ ì²­ ê¸ˆì•¡
		int cancel_pay = AdminCancelData.getCancel_request_amount();
		// ì´ê²°ì œê¸ˆì•¡ - ì·¨ì†Œ ìš”ì²­ê¸ˆì•¡ (ê³„ì† ë¬´ë£Œë°°ì†¡ì´ ìœ ì§€ë˜ëŠ”ì§€ í™•ì¸)
		int postYN = AdminCancelData.getTotal_pay_money() - AdminCancelData.getCancel_request_amount();
		// ê³¼ì‹¤ ì—¬ë¶€ì— ë”°ë¼ ë°°ì†¡ë¹„ ì¸¡ì •
		if (AdminCancelData.getWhat().equals("ë°˜í’ˆ") && AdminCancelData.getNegligence().equals("N")) {
			// ì†Œë¹„ì ê³¼ì‹¤ (íƒë°°ë¹„ ë°œìƒ)
			int postMoney = 2500;
			// ì´ê²°ì œê¸ˆì•¡ - ì·¨ì†Œìš”ì²­ê¸ˆì•¡ì„ í–ˆì„ì‹œ ë°°ì†¡ë¹„ ë¬´ë£Œê¸°ì¤€ì— ë¶€í•©í•˜ëŠ”ì§€
			if(postYN >= 50000) {
				// ë¬´ë£Œê¸°ì¤€ ë¶€í•© -> (í¸ë„) ë°°ì†¡ë¹„ ì ìš©
				AdminCancelData.setAdd_post_money(postMoney);
				cancel_pay = cancel_pay - postMoney;
			} else if(postYN < 50000) {
				if (AdminCancelData.getPost_money() == 0) {
				// ê¸°ì¡´ì— ë°°ì†¡ë¹„ ì—†ì´ ë°°ì†¡ -> (ì™•ë³µ) ë°°ì†¡ë¹„ ì ìš©
					AdminCancelData.setAdd_post_money(2 * postMoney);
					cancel_pay = cancel_pay - (2 * postMoney);
				} else if (AdminCancelData.getPost_money() != 0) {
					// ê¸°ì¡´ì— ë°°ì†¡ë¹„ ê²°ì œ
					// (í¸ë„) ë°°ì†¡ë¹„ ì ìš©
					AdminCancelData.setAdd_post_money(postMoney);
					cancel_pay = cancel_pay - postMoney;
				}
			}					
		}

		int point_amount = 0;
		int cancel_amount= 0;
		// ì¹´ë“œ&í˜„ê¸ˆ or ì ë¦½ê¸ˆ ì·¨ì†Œê¸ˆì•¡ ê³„ì‚°
		if (cancel_pay > check_pay) { 
			// ì ë¦½ê¸ˆ ì·¨ì†Œ ê¸ˆì•¡  
			point_amount = cancel_pay - check_pay;
			// ì¹´ë“œorí˜„ê¸ˆ ì·¨ì†Œ ê¸ˆì•¡
			cancel_amount = check_pay;
		} else if (cancel_pay <= check_pay) {
			// ì¹´ë“œorí˜„ê¸ˆ ì·¨ì†Œ ê¸ˆì•¡
			cancel_amount = cancel_pay;
		}
		// ì¹´ë“œorí˜„ê¸ˆ ê¸ˆì•¡ ì„¤ì • 
		AdminCancelData.setChange_cancel_amount(cancel_amount);
		// ë³€ê²½ëœ ì ë¦½ê¸ˆ ê¸ˆì•¡ ì„¤ì •
		AdminCancelData.setChange_point_pay_money(point_amount);

		if (AdminCancelData.getPay_method().equals("ì¹´ë“œ")) {
			// ê²°ì œ ì·¨ì†Œ API
			// ê²°ì œ ì²˜ë¦¬ì— í•„ìš”í•œ DTO ìƒì„±
			CancelDataDTO cancelData = new CancelDataDTO(AdminCancelData.getImp_uid(), new BigDecimal(AdminCancelData.getCancel_request_amount()),
			AdminCancelData.getReason(), new BigDecimal(AdminCancelData.getChecksum()));
			// ê²°ì œ API í˜¸ì¶œí•˜ì—¬ ì·¨ì†Œì§„í–‰
			IamportResponse<Payment> response = PaymentInfo.getInstance().cancelPaymentByImpUid(cancelData);

			if (response.getCode() == 0) {
				// ì·¨ì†Œ ì„±ê³µ
				if (paymentDao.updatePaymentOnCancel(AdminCancelData) == 1) {
					// ì ë¦½ê¸ˆë°˜í™˜ì´ ìˆë‹¤ë©´ ì ë¦½ê¸ˆ ë°˜í™˜ë¡œê·¸ ì‘ì„± ë° ë©¤ë²„ ì ë¦½ê¸ˆ ë°˜í™˜
					if(AdminCancelData.getChange_point_pay_money() != 0) {
						if(pointsUsageLogDao.insertCancelPoint(AdminCancelData) == 1) {
							if(memberDao.updateCancelPoint(AdminCancelData) != 1) {
								// ì‹¤íŒ¨ì‹œ ë¡œì§
								throw new Exception();
							}
						} else {
							throw new Exception();
						}
					}		
					// ì„±ê³µ ë¦¬ìŠ¤íŠ¸ì— ë‹´ê¸°
					successList.add(AdminCancelData.getPk_number());
					// payment í…Œì´ë¸” ê°€ê²©ë“¤ ì—…ë°ì´íŠ¸
					Timestamp now = new Timestamp(System.currentTimeMillis());
					AdminCancelReturnDTO cancelReturnData = new AdminCancelReturnDTO(AdminCancelData.getPk_number(),
					"ì™„ë£Œ", null, now, AdminCancelData.getAdd_post_money());
					cancelReturnList.add(cancelReturnData);
				} else {
					throw new Exception();
				}
			} else if (response.getCode() == 1) {
				// ì·¨ì†Œ ì‹¤íŒ¨ ë¦¬ìŠ¤íŠ¸ì— ë‹´ê¸°
				AdminCancelFailDTO fail = new AdminCancelFailDTO(AdminCancelData.getPk_number(), response.getMessage());
				failList.add(fail);
			}
		} else if (AdminCancelData.getPay_method().equals("í˜„ê¸ˆ")) {
			// í˜„ê¸ˆê²°ì œ(ë¬´ì¡°ê±´ ì„±ê³µ)
			if (paymentDao.updatePaymentOnCancel(AdminCancelData) == 1) {
				// ì ë¦½ê¸ˆë°˜í™˜ì´ ìˆë‹¤ë©´ ì ë¦½ê¸ˆ ë°˜í™˜ë¡œê·¸ ì‘ì„± ë° ë©¤ë²„ ì ë¦½ê¸ˆ ë°˜í™˜
				if(AdminCancelData.getChange_point_pay_money() != 0) {
					if(pointsUsageLogDao.insertCancelPoint(AdminCancelData) == 1) {
						if(memberDao.updateCancelPoint(AdminCancelData) != 1) {
							//ì‹¤íŒ¨ì‹œ ë¡œì§
							throw new Exception();
						} 	
					} else {
						throw new Exception();
					}
				}
				// ì„±ê³µ ë¦¬ìŠ¤íŠ¸ì— ë‹´ê¸°
				successList.add(AdminCancelData.getPk_number());
				// payment í…Œì´ë¸” ê°€ê²©ë“¤ ì—…ë°ì´íŠ¸
				Timestamp now = new Timestamp(System.currentTimeMillis());
				AdminCancelReturnDTO cancelReturnData = new AdminCancelReturnDTO(AdminCancelData.getPk_number(),
				"ì™„ë£Œ", null, now, AdminCancelData.getAdd_post_money());
				cancelReturnList.add(cancelReturnData);
			} else {
				throw new Exception();
			}
		}
	}
	result.put("successList", successList);
	result.put("failList", failList);
	result.put("cancelReturnList", cancelReturnList);

	return result;
}

//--------------------------------------------------------------------------------------------------------------------------------
// ì·¨ì†Œì™„ë£Œí›„ DBì— ë°ì´í„° ì €ì¥í•˜ëŠ” ë¡œì§êµ¬í˜„
@Override
@Transactional(rollbackFor = Exception.class)
public Map<String, Object> changeStateReturnByComplete(List<Integer> returnNoList) throws Exception {
	Boolean verify = false;
	Map<String, Object> failListMap = new HashMap<String, Object>();

	// ì·¨ì†Œ ê³µìš© ë©”ì„œë“œ ê°”ë‹¤ì˜¤ê¸°
	Map<String, Object> result = cancelPayment(returnNoList);

	List<Integer> successList = (List<Integer>) result.get("successList");
	List<AdminCancelFailDTO> failList = (List<AdminCancelFailDTO>) result.get("failList");
	List<AdminCancelReturnDTO> returnList = (List<AdminCancelReturnDTO>) result.get("cancelReturnList");

	// ì·¨ì†Œ/ë°˜í’ˆí…Œì´ë¸”(í•œë²ˆì—) ì—…ë°ì´íŠ¸ returnList= ì„±ê³µí•œì• ë“¤ ìƒíƒœë³€ê²½ì— ë§ê²Œ ê°ì²´í™”
	if (successList.size() > 0) {
		// ë°˜ì¶œí…Œì´ë¸” ì ìš©
		if(carryinOut(successList, "ë°˜í’ˆ")) {
			// ìƒíƒœ ì™„ë£Œë¡œ ë³€ê²½
			if (cancellationReturnDao.updateCancelReturnByStateComplete(returnList, "ë°˜í’ˆ") == returnList.size()) {
				// ì •ë³´ ê²€ì¦í•˜ëŸ¬ ë°”ë¡œê°€ê¸° 
				List<String> compareMerchantUidList = ordersheetDao.compareCompleteStateCancelReturn(successList);
				if (compareMerchantUidList.size() > 0) {
					verify = verifyTotalState(compareMerchantUidList);
				} else {
					// DB ì €ì¥ì€ ì„±ê³µí–ˆì§€ë§Œ, ê²€ì¦ì— í†µê³¼í•œê²ƒì´ 0ê°œì´ë‹¤.
					verify = true;
				}
			}
		}			
	} else {
		// API ì·¨ì†Œ ì„±ê³µí•œê²ƒì´ í•œê°œë„ ì—†ë‹¤.
		verify = true;
	}
		
	if(verify) {
		failListMap.put("failList", failList);
	} else {
		throw new Exception();
	}

	return failListMap;
}
```
</br>
<h3>ğŸ’¥ì„¤ëª…</h3>

> ë¶€ë¶„ ì·¨ì†Œë¥¼ êµ¬í˜„í•˜ëŠ” ê³¼ì •ì—ì„œ ì„¤ê³„ê°€ ì¶©ë¶„íˆ ê¹”ë”í•˜ì§€ ëª»í•´ ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ì—ˆê³ ,
>
> ì‹¤ì œ í•„ìš”í•œ ì»¬ëŸ¼ì´ ë¶€ì¡±í•˜ì—¬ ì¿¼ë¦¬ë¥¼ ì¡°í•©í•  ë•Œ ì–´ë ¤ì›€ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
>
> ë˜í•œ API ì„œë²„ì™€ ë°ì´í„°ë² ì´ìŠ¤ ê°„ ë¶ˆì¼ì¹˜ì— ëŒ€í•œ ì²˜ë¦¬ë„ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
>
> ë¶€ë¶„ ì·¨ì†Œë¥¼ êµ¬í˜„í•˜ë©´ì„œ ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œê°€ ë°œìƒí–ˆê³ , ì´ë¥¼ í†µí•´ ë¡œì§ì˜ ë³µì¡ì„±ì„ ì²´ê°í•˜ë©°
>
> ì¤‘ê°„ì— ìˆ˜ì •ì´ í•„ìš”í•  ê²½ìš° ì½”ë“œ ìˆ˜ì •ì´ ë²ˆê±°ë¡œì›Œì§€ëŠ” ì ì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤.
>
> ì´ëŸ¬í•œ ê²½í—˜ì„ í†µí•´ ì„¤ê³„ì˜ ì¤‘ìš”ì„±ì„ ë‹¤ì‹œ í•œ ë²ˆ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤.
***
<br/>
<br/>
<h2>ğŸ“ìƒíƒœ í™•ì •</h2>
<p align="center">
<img width="100%" alt="ìƒíƒœ í™•ì •" src="https://github.com/SsongYT/BrickFarm-Project/assets/136442036/eb8432a8-8856-45f7-8c43-a833325ab220"/>
</p>

> detailed_orderë“¤ì˜ ìƒíƒœê°€ ëª¨ë‘ ì™„ë£Œê°€ ë˜ë©´ ordersheetì˜ ìµœì¢…ìƒíƒœê°€ ì™„ë£Œë¡œ ë³€ê²½ë˜ê³ 
>
> ì ë¦½ê¸ˆ ì§€ê¸‰ì„ í•˜ë„ë¡ ì„¤ê³„ë¥¼ í•˜ê²Œ ë˜ì—ˆë‹¤.
>
> 1ê°œì˜ detailed_orderì˜ ìƒíƒœê°€ ì™„ë£Œìƒíƒœ(ì·¨ì†Œì™„ë£Œ,êµí™˜ì™„ë£Œ,ë°˜í’ˆì™„ë£Œ,êµ¬ë§¤í™•ì •)ê°€ ë˜ì—ˆì„ë•Œ
>
> ê°™ì€ ordersheetì— ë¬¶ì—¬ìˆëŠ” ëª¨ë“  detailed_orderì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ê³ 
>
> ê·¸ ëª¨ë“  ìƒíƒœê°€ ì™„ë£Œê°€ ë˜ì—ˆì„ì‹œ ì ë¦½ê¸ˆ ì§€ê¸‰ ë° ìµœì¢…ìƒíƒœ ë³€ê²½ì„ í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ë‹¤.
<br/>
<h3>ğŸ’¡ì½”ë“œ ë¶„ì„</h3>

<h4>ğŸ’£Mapper</h4>

> DBì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ í›„ Surviceë‹¨ì—ì„œ ë¹„êµë¥¼ í•˜ëŠ” ì‘ì—…ì€ ë¹„íš¨ìœ¨ì ì´ë¼ ìƒê°í•˜ì—¬
>
> mybatisì˜ ë™ì ì¿¼ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ì¿¼ë¦¬ì—ì„œ ë¹„êµ í›„ ì¡°ê±´ì— ë§ëŠ” merchant_uidë¥¼
>
> ë°˜í™˜í•˜ë„ë¡ ì¿¼ë¦¬ë¥¼ êµ¬í˜„í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤.

```java
<select id="compareCompleteStateByUid" resultType="String">
SELECT B.merchant_uid 
FROM 
	(SELECT COUNT(*) AS complete, D.merchant_uid 
	FROM detailed_order D 
		LEFT OUTER JOIN exchange E 
			ON D.detailed_order_no = E.detailed_order_no 
		LEFT OUTER JOIN cancellation_return CR 
			ON D.detailed_order_no = CR.detailed_order_no 
	WHERE D.merchant_uid 
		IN 
		<foreach collection="merchantUidList" item="item" open="(" close=")" separator=",">
		#{item}
		</foreach>
		AND ((D.payment_state IN ("êµ¬ë§¤í™•ì •")) 
			OR (D.payment_state IN ("ì·¨ì†Œ","ë°˜í’ˆ") AND CR.state = "ì™„ë£Œ") 
			OR (D.payment_state IN ("êµí™˜") AND E.state = "ì™„ë£Œ")) 
	GROUP BY D.merchant_uid) A 
	INNER JOIN 
	(SELECT COUNT(*) AS total, D.merchant_uid 
	FROM detailed_order D
	WHERE D.merchant_uid
		IN 
		<foreach collection="merchantUidList" item="item" open="(" close=")" separator=",">
		#{item}
		</foreach>
	GROUP BY D.merchant_uid) B 
		ON A.merchant_uid = B.merchant_uid 
		AND A.complete = B.total 
GROUP BY B.merchant_uid
</select>
```
<h4>ğŸ’£Service</h4>

```java
// ìµœì¢… ì™„ë£Œ ìƒíƒœë¡œ ë³€ê²½í•´ì•¼í•˜ëŠ” merchant_uid ë³€ê²½í•˜ëŠ” ë©”ì„œë“œ
@Transactional(rollbackFor = Exception.class)
private boolean verifyTotalState(List<String> compareMerchantUidList) throws Exception {
	boolean result = false;
	Timestamp now = new Timestamp(System.currentTimeMillis());
	// ì£¼ë¬¸ì„œì˜ ìµœì¢…ìƒíƒœ ë³€ê²½
	if (ordersheetDao.updateOrderSheetOnState(compareMerchantUidList, now) == compareMerchantUidList.size()) {
		// ê²°ì œì•¡ 0ì›ì´ ì•„ë‹Œ List
		List<String> haveToMerchantUidList = paymentDao.selectPaymentMoney(compareMerchantUidList);
		// í¬ì¸íŠ¸ ì ë¦½ë¡œê·¸ì— ì ë¦½
		if(haveToMerchantUidList.size() > 0) {
			if (pointsAccrualLogDao.insertPointAccrualLogByCompletion(haveToMerchantUidList) == haveToMerchantUidList.size()) {
				int count = 0;
				for(String haveToMerchantUid : haveToMerchantUidList) {
					count += memberDao.updateMemberOnAccumulate(haveToMerchantUid);
				}
				if(count == haveToMerchantUidList.size()) {
					result = true;
				}
			} 
		} else {
			result = true;
		}
	}
	return result;
}

//--------------------------------------------------------------------------------------------------------------------------------------
// ì·¨ì†Œì™„ë£Œ ìƒíƒœ ë³€ê²½
@Override
@Transactional(rollbackFor = Exception.class)
public boolean changeStateExchangeByComplete(List<AdminExchangeDTO> exchangeList, List<Integer> exchangeNoList) throws Exception {
	boolean result = false;
	// ë°˜ì¶œí…Œì´ë¸” ì ìš©
	if(carryinOut(exchangeNoList, "êµí™˜")) {
		// êµí™˜ ìƒíƒœ ë³€ê²½
		if (exchangeDao.updateExchangeByStateComplete(exchangeList) == exchangeList.size()) {
			// ëª¨ë“  ê²€ì¦í•˜ëŸ¬ ë°”ë¡œê°€ê¸°
			List<String> compareMerchantUidList = ordersheetDao.compareCompleteStateExchange(exchangeNoList);
			if (compareMerchantUidList.size() > 0) {
				result = verifyTotalState(compareMerchantUidList);
			} else {
				result = true;
			}	
		} 
	}
	if(result == false) {
		throw new Exception();
	}
	return result;
}
```
</br>
<h3>ğŸ’¥ì„¤ëª…</h3>

> ì²« í…Œì´ë¸” ì„¤ê³„ ì´í›„ ë‹¤ë¥¸ ë‹´ë‹¹ìë“¤ì˜ ê¸°ëŠ¥ êµ¬í˜„ì— ì–´ë ¤ì›€ì„ ê²ªìœ¼ë©´ì„œ í…Œì´ë¸” ìˆ˜ì •ì„ í•˜ë‹¤ ë³´ë‹ˆ
>
> ìµœì¢… ìƒíƒœë¼ëŠ” ì»¬ëŸ¼ì´ ìƒê¸°ê²Œ ë˜ì—ˆê³  ì´ì— ë”°ë¼ ì ë¦½ê¸ˆ ì§€ê¸‰ë„ ê°ê°ì˜ detailed_orderì—ì„œ
>
> ì§„í–‰í•˜ë˜ê²ƒì„ ìµœì¢… ìƒíƒœë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ê²Œ ë˜ì—ˆë‹¤.
>
> ì²˜ìŒ ì„¤ê³„ ë‹¨ê³„ë¶€í„° ë§Œë“¤ì–´ì§„ê²Œ ì•„ë‹ˆë‹¤ ê°‘ìê¸° ë³€ê²½ë˜ì–´ì„œ ì½”ë“œê°€ ì§€ì €ë¶„í•˜ê³  ì¿¼ë¦¬ë„ ë³µì¡í•´ ì§„ê²ƒ ê°™ë‹¤.
>
> ì„¤ê³„ ë‹¨ê³„ì—ì„œ ë¶€í„° ê³ ë ¤í•˜ì—¬ ì„¤ê³„ë¥¼ í•˜ì˜€ë‹¤ë©´ ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼(total_state ë“±)ë„ ì¤„ì–´ë“¤ê³ 
>
> ë˜í•œ ì¿¼ë¦¬ ë° Serviceë‹¨ë„ ê¹”ë”í•´ ì¡Œì„ê²ƒ ê°™ë‹¤.
***
</br>
</br>
<h2>ğŸ“ê´€ë¦¬ì ì¼ê´„ì²˜ë¦¬</h2>
<p align="center">
<img width="100%" alt="ìƒíƒœ í™•ì •" src="https://github.com/SsongYT/BrickFarm-Project/assets/136442036/dca08449-9382-428c-9f9d-16bef00dc127"/>
</p>

> ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ìƒíƒœë³€í™”ë¥¼ ì¼ê´„ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©ìì˜ ì´ìš© í¸ì˜ì„±ì„ í–¥ìƒì‹œì¼°ìœ¼ë©°,
>
> ìƒíƒœ ë³€ê²½ì„ ë˜ëŒë¦¬ëŠ” ê¸°ëŠ¥ë„ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
>
> ë‹¤ë§Œ, ê²°ì œ APIì™€ ê´€ë ¨ëœ ì‚¬í•­ì€ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ìƒí™©ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ë·°ì—ì„œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

<h3>ğŸ’¡ì½”ë“œ ë¶„ì„</h3>

<h4>ğŸ’£JS</h4>

```java
//ë””í…Œì¼ Toastr
function detailErrorToastr(state) {
  let errorMsg = "";
  let errorTitle = "";
  if (state == "stateCompleteVerify") {
    errorMsg = "ì™„ë£Œìƒíƒœê°€ ì•„ë‹Œ ì •ë³´ë¡œ </br>ì‹œë„í•´ì£¼ì„¸ìš”.";
    errorTitle = "ì™„ë£Œìƒíƒœ ë³€ê²½ë¶ˆê°€";
  } else if (state == "cancel") {
    errorMsg = "ë°°ì†¡ëœ ìƒí’ˆì€ ì·¨ì†Œë¥¼ í• ìˆ˜ì—†ìŠµë‹ˆë‹¤.";
    errorTitle = "ì·¨ì†Œ ì‹ ì²­ë¶ˆê°€";
  } else if (state == "exchangeReturn") {
    errorMsg = "ë°°ì†¡ë˜ì§€ì•Šì€ ìƒí’ˆì€ êµí™˜/ë°˜í’ˆì„ í• ìˆ˜ì—†ìŠµë‹ˆë‹¤.";
    errorTitle = "êµí™˜/ë°˜í’ˆ ì‹ ì²­ë¶ˆê°€";
  } else if (state == "completeActive") {
    errorMsg = "ë°°ì†¡ë˜ì§€ì•Šì€ ìƒí’ˆì€ êµ¬ë§¤í™•ì •ì„ í• ìˆ˜ì—†ìŠµë‹ˆë‹¤.";
    errorTitle = "êµ¬ë§¤í™•ì •ë¶ˆê°€";
  } else if (state == "inputVerify") {
    errorMsg = "ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
    errorTitle = "ì‚¬ìœ ì •ë³´ ë¯¸ì…ë ¥";
  } else if (state == "inputVerifyBefore") {
    errorMsg = "ì…ê¸ˆìëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.";
    errorTitle = "ì…ê¸ˆìëª… ë¯¸ì…ë ¥";
  } else if (state == "postNoVerify") {
    errorMsg = "ìš´ì†¡ì¥ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
    errorTitle = "ìš´ì†¡ì¥ ë¯¸ì…ë ¥";
  } else if (state == "stateProcessVerify") {
    errorMsg = "ë¨¼ì € ì§„í–‰ì¤‘ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”.";
    errorTitle = "ì™„ë£Œ ìƒíƒœ ë³€ê²½ë¶ˆê°€";
  }
  

  toastr.error(errorMsg, errorTitle, {
    positionClass: "toast-top-full-width",
    timeOut: 5e3,
    closeButton: !0,
    debug: !1,
    newestOnTop: !0,
    progressBar: !0,
    preventDuplicates: !0,
    onclick: null,
    showDuration: "300",
    hideDuration: "1000",
    extendedTimeOut: "1000",
    showEasing: "swing",
    hideEasing: "linear",
    showMethod: "fadeIn",
    hideMethod: "fadeOut",
    tapToDismiss: !1,
  });
}
```

***
</br>
</br>
<h2>ğŸ“‹ì´í‰</h2>

> ê²°ì œ ë¶€ë¶„ì— ëŒ€í•œ ì„¤ê³„ê°€ ë¯¸í¡í•˜ì—¬ í…Œì´ë¸” ë° ì»¬ëŸ¼ êµ¬ì„±ì— ë¬¸ì œê°€ ìˆì—ˆê³ , ì´ë¡œ ì¸í•´ ê¸°ëŠ¥ êµ¬í˜„ì´ ì–´ë ¤ì› ìŠµë‹ˆë‹¤.
>
> ì˜ˆë¥¼ ë“¤ì–´, ê²°ì œìˆ˜ë‹¨ì„ êµ¬ë¶„í•˜ëŠ” ì»¬ëŸ¼ì´ ì—†ì–´ì„œ ì¿¼ë¦¬ì—ì„œ ASì ˆì„ ì‚¬ìš©í•˜ì—¬ ì¶”ê°€í•´ì•¼ í–ˆìœ¼ë©°,
>
> ê²°ì œ ìƒíƒœë¥¼ í‘œì‹œí•˜ëŠ” ì»¬ëŸ¼ë„ ì·¨ì†Œ ìš”ì²­ ì‹œ ê²°ì œ ìƒíƒœê°€ "ì·¨ì†Œ"ë¡œ ë³€ê²½ë˜ì–´ ê²°ì œ í›„ ì·¨ì†Œì¸ì§€ ê²°ì œ ì „ ì·¨ì†Œì¸ì§€
>
> êµ¬ë³„í•  ìˆ˜ ì—†ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê²°ì œ ì‹œê°„ê³¼ ì·¨ì†Œ ì‹ ì²­ ì‹œê°„ì„ ë¹„êµí•˜ì—¬ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
>
> ì´ëŸ¬í•œ ì„¤ê³„ ë‹¨ê³„ì˜ ë¯¸í¡í•¨ì„ ë°œê²¬í–ˆì„ ì‹œì—” í”„ë¡œì íŠ¸ ì§„í–‰ì´ ë„ˆë¬´ ë§ì´ ë˜ì–´ìˆì–´ í™•ì¸í•´ì•¼í•  ì½”ë“œì˜ ì–‘ì´ ë§ì•„ì„œ
>
> í…Œì´ë¸” êµ¬ì¡°ë³€ê²½ì„ í•˜ì§€ ì•Šê³  ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼í–ˆê¸° ë•Œë¬¸ì— ì½”ë“œê°€ ë³µì¡í•´ì§„ê²ƒ ê°™ìŠµë‹ˆë‹¤.
>
> ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì¶”ê°€ëœ í…Œì´ë¸”ì˜ ì •ë³´ê°€ ê³µìœ ë˜ì§€ ì•Šì•„ ìˆ˜ì •í•  ì‹œê°„ì´ ì´‰ë°•í•´ì§€ê³ ,
>
> í…Œì´ë¸” êµ¬ì¡°ì— ëŒ€í•œ ì˜¤í•´ë¡œ ì¸í•´ ë¶ˆí•„ìš”í•œ ì‘ì—…ì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
>
> ì´ëŸ¬í•œ ê²½í—˜ì„ í†µí•´ ì„¤ê³„ì˜ ì¤‘ìš”ì„±ê³¼ ì‘ì€ ì¼ì´ë¼ë„ ë¹ ë¥´ê²Œ ì†Œí†µí•˜ëŠ” ê²ƒì´ ì—…ë¬´ íš¨ìœ¨ì„ ë†’ì¼ ìˆ˜ ìˆìŒì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤.
